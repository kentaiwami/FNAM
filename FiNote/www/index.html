<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="format-detection" content="telephone=no">
  <meta name="msapplication-tap-highlight" content="no">
  <meta name="viewport" content="user-scalable=no, initial-scale=1, minimum-scale=1, width=device-width" />

  <link rel="stylesheet" href="onsen/css/onsenui.css">
  <link rel="stylesheet" href="onsen/css/onsen-css-components.css">
  <link rel="stylesheet" href="css/scss/index.css">

	<script src="js/jquery-3.1.0.min.js"></script>
  <script src="js/secret.js"></script>
  <script src="onsen/js/onsenui.js"></script>
  <script src="cordova.js"></script>
  <script src="js/ncmb.min.js" charset="utf-8"></script>
  <script src="js/spin.min.js"></script>
  <script type="text/javascript" src="js/SocialSharing.js"></script>
  <script type="text/javascript" src="js/rgbcolor.js"></script>
  <script src="js/index.js"></script>
</head>

<body>
  <script>
   // db_method.delete_all_record();

   //ブラウザでの確認のため強制的に遷移させるテストコード
   // utility.check_page_init('index',function(){utility.push_page('movieadd_search.html', 'push', 0, '');});


   //エラー表示用
   window.onerror = function(msg, url, line, col, error) {  
   	console.log(line);
    console.log(msg);
   };

   //サインアップしているかどうかをチェックする
   index.check_signup();
   // utility.browser_signup();
  </script>

  <!-- ページ管理をするnavigatorを設置 -->
  <ons-navigator id="myNavigator" page="index.html"></ons-navigator>

  <!-- ●ここからindex.html -->
  <ons-template id="index.html">
    <ons-page id="index"></ons-page>
  </ons-template>
  <!-- ●ここまでindex.html -->


  <!-- ●ここからtab.html -->
  <ons-template id="tab.html">
    <ons-page id="tab">
      <ons-tabbar position="bottom">
        <ons-tab page="movies.html" label="映画の一覧" icon="ion-android-film" active="true"></ons-tab>
        <ons-tab page="search.html" label="検索" icon="ion-android-search"></ons-tab>
        <ons-tab page="action.html" label="アクション" icon="fa-square"></ons-tab>
      </ons-tabbar>
    </ons-page>
  </ons-template>
  <!-- ●ここまでtab.html -->

  <!-- ●ここからsignup.html -->
  <ons-template id="signup.html">
    <ons-page id="signup">
      <!-- 会員登録成功時のアラート -->
      <ons-alert-dialog id="signup-alert-success">
        <div class="alert-dialog-title">登録完了</div>
        <div class="alert-dialog-content">登録に成功しました！</div>
        <div class="alert-dialog-footer">
          <button class="alert-dialog-button" onclick="Signup.alert_hide('signup-alert-success')">OK</button>
        </div>
      </ons-alert-dialog>

      <!-- 会員登録失敗時のアラート -->
      <ons-alert-dialog id="signup-alert-error">
        <div class="alert-dialog-title">エラー</div>
        <div class="alert-dialog-content" id="error-message"></div>
        <div class="alert-dialog-footer">
          <button class="alert-dialog-button" onclick="Signup.alert_hide('signup-alert-error')">OK</button>
        </div>
      </ons-alert-dialog>

      <!-- signup.htmlのページの中身 -->
      <ons-toolbar>
        <div class="center brown_color">ユーザ登録</div>
      </ons-toolbar>

			<ons-list>
        <div class="formarea">
          <!-- ユーザ名とパスワードのフォーム -->
          <ons-list-header class="brown_color">ユーザ名とパスワード</ons-list-header>
          <div class="form-row">
            <input type="text" id="username" class="text-input--underbar width-full" placeholder="ユーザ名" value="">
          </div>

          <div class="form-row">
            <input type="password" id="password" class="text-input--underbar width-full" placeholder="パスワード" value="">
          </div>

          <div>
            <p class="note brown_color">Password - 6 characters or more</p>
          </div>

          <!-- 性別を選択させるラジオボタン -->
          <ons-list-header class="brown_color">性別</ons-list-header>
          <ons-list-item tappable>
            <label class="left"><ons-input name="color" type="radio" input-id="radio_m" checked></ons-input></label>
            <label for="radio_m" class="center">男性</label>
          </ons-list-item>

          <ons-list-item tappable>
            <label class="left"><ons-input name="color" type="radio" input-id="radio_f"></ons-input></label>
            <label for="radio_f" class="center">女性</label>
          </ons-list-item>
          
          <!-- 生年選択のフォーム -->
          <ons-list-header class="brown_color">生年</ons-list-header>
          <div class="form-row">
            <input onfocus="Signup.birthday_pickerview()" type="text" id="birthday" class="text-input--underbar width-full" placeholder="生年を選択する" value="">
          </div>
         
          <!-- 登録ボタン -->
          <div class="vspc form-row">
            <ons-button disabled modifier="large--cta" id="signup_button" onclick="Signup.usersignup()">登録</ons-button>
          </div>
      	</div>
    	</ons-list>
    </ons-page>
  </ons-template>
  <!-- ●ここまでsignup.html -->


  <!-- ●ここからmovies.html -->
  <ons-template id="movies.html">
    <ons-page id="movies">
      <!-- ツールバー -->
      <ons-toolbar>
	      <div class="center brown_color">映画の一覧</div>
	      <div class="right">
          <ons-toolbar-button onClick="utility.push_page('movieadd_search.html', '', 0, function(){utility.hideKeyboardAccessoryBar(true)})">
            <ons-icon class="brown_color" icon="ion-plus-round"></ons-icon>
          </ons-toolbar-button>
	      </div>
      </ons-toolbar>
      
      <!-- 登録済み映画を表示するリスト -->
      <div id="movie_collection_list"></div>

			<!-- 登録データがない場合のメッセージ表示 -->
    	<div id="nodata_message"></div>
    </ons-page>
  </ons-template>
  <!-- ●ここまでmovies.html -->


  <!-- ●ここからmovieadd_search.html -->
  <ons-template id="movieadd_search.html">
	  <ons-page id="movieadd_search">
      <!-- ツールバー -->
      <ons-toolbar>
        <div class="left" onclick="utility.pop_page(movie.update_movies())" id="movieadd_search_backbutton"><ons-back-button class="brown_color"></ons-back-button></div>

        <div class="center toolbar_center_search_form" id="movieadd_search_input">
          <form action="javascript:movieadd_search.click_done()">
              <input onfocus="movieadd_search.set_animation_movieadd_search_input('focus')" onblur="movieadd_search.set_animation_movieadd_search_input('blur')" type="search" id="search_movie_title" value="" placeholder="追加する映画を検索" class="search-input search_form">
          </form>

          <ons-button id="movieadd_reset_button" onclick="movieadd_search.tap_reset()" class="reset_button" modifier="quiet"><ons-icon class="brown_color" icon="ion-close-circled"></ons-icon></ons-button>
        </div>
      </ons-toolbar>

      <!-- ローディング表示、検索結果なしメッセージ用 -->
      <div id="movieadd_no_match_message" class="all_center_message"></div>

      <!-- 検索結果を表示するリスト -->
      <ons-list id="movieadd_search_list"></ons-list>

      <!-- 追加済みの映画リストをタップした時のアラート -->
      <ons-dialog id="tap_exist_movie_list">
        <div class="alert">
          <p>追加済みの映画を編集するには映画の一覧から行ってください</p>
          <p><ons-button class="brown_bg_color" onclick="movieadd_search.exist_movie_list_alert_hide()">OK</ons-button></p>
        </div>
      </ons-dialog>
    </ons-page>
  </ons-template>
  <!-- ●ここまでmovieadd_search.html -->


  <!-- ●ここからmovieadd.html -->
  <ons-template id="movieadd.html">
    <ons-page modifier="shop-details" id="movieadd" ontouchmove="event.preventDefault()">

    	<!-- ツールバー -->
      <ons-toolbar id="movieadd_toolbar" modifier="transparent" class="brown_bg_color">
        <div class="left">
          <ons-toolbar-button id="movieadd_back_button" onClick="movieadd.tap_backbutton()"><ons-icon icon="ion-arrow-left-c" class="white_color" fixed-width="false"></ons-icon></ons-toolbar-button>
        </div>

        <div class="right">
          <ons-toolbar-button id="movieadd_show_info_button" onClick="movieadd.fadeTo_detail_info()">
            <ons-icon icon="ion-chatbox-working" class="white_color"></ons-icon>
          </ons-toolbar-button>
        </div>
      </ons-toolbar>

      <!-- 映画のポスター表示 -->
      <div class="card card_back_image" id="movieadd_card" onclick="movieadd.fadeTo_detail_info()"></div>

      <!-- ユーザアクション部分 -->
      <ons-list>
        <ons-list-item>
          <ons-row class="action">

            <ons-col class="action-col">
              <div class="action-icon">
                <ons-button class="btn_disable" onClick="movieadd.add_movie()" id="movieadd_add_button" modifier="quiet">
                  <ons-icon icon="ion-plus-circled"></ons-icon>
                </ons-button>
              </div>
              <div class="action-label">追加</div>
            </ons-col>

            <ons-col class="action-col">
              <div class="action-icon">
                <ons-button class="brown_color" onClick="movieadd.pushpage_feeling()" id="movieadd_pushfeeling_button" modifier="quiet">
                  <ons-icon icon="ion-edit"></ons-icon>
                </ons-button>
              </div>
              <div class="action-label">気分リスト</div>

              <span class="notification notification_space_small" id="list_number">0</span>
            </ons-col>
            
            <ons-col class="action-col">
              <div class="action-icon"><ons-button class="brown_color" onClick="movieadd.pushpage_dvd()" id="movieadd_pushdvd_button" modifier="quiet"><ons-icon icon="ion-disc"></ons-icon></ons-button></div>
              <div class="action-label">DVD</div>

              <span class="notification notification_space_large" id="have_dvd">No</span>
            </ons-col>

            <ons-col class="action-col">
              <div class="action-icon"><ons-button class="brown_color" onClick="movieadd.sns_share()" id="movieadd_share_button" modifier="quiet"><ons-icon icon="ion-share"></ons-icon></ons-button></div>
              <div class="action-label">シェア</div>
            </ons-col>

          </ons-row>
        </ons-list-item>
      </ons-list>

      <!-- 映画追加完了のアラート -->
      <ons-dialog id="success_movieadd_alert">
        <div class="alert">
          <p>映画の追加が完了しました</p>
          <p><ons-button class="brown_bg_color" onclick="movieadd.success_movieadd_alert_hide()">OK</ons-button></p>
        </div>
      </ons-dialog>

      <!-- SNS投稿完了のアラート -->
      <ons-dialog id="success_sns_alert">
        <div class="alert">
          <p>投稿が完了しました</p>
          <p><ons-button class="brown_bg_color" onclick="movieadd.sns_alert_hide()">OK</ons-button></p>
        </div>
      </ons-dialog>
    </ons-page>
  </ons-template>
  <!-- ●ここまでmovieadd.html -->


  <!-- ●ここからmovieadd_feeling.html -->
  <ons-template id="movieadd_feeling.html">
    <ons-page id="movieadd_feeling">
      <!-- ツールバー -->
      <ons-toolbar>
        <div class="left">
          <ons-toolbar-button class="brown_color" onClick="utility.pop_page()">閉じる</ons-toolbar-button>
        </div>

        <div class="center brown_color">気分リスト</div>

        <div class="right">
					<ons-toolbar-button onClick="movieadd_feeling.show_input_alert()">
			    	<ons-icon class="brown_color" icon="ion-plus-round"></ons-icon>
			  	</ons-toolbar-button>
				</div>
      </ons-toolbar>

      <!-- ユーザが入力した気分を表示する領域 -->
      <ons-list id="feeling_list"></ons-list>

      <!-- 気分の登録件数が0件の場合に表示するメッセージ -->
			<div id="movieadd_feeling_nodata_message" class="feeling_no_message"></div>

      <!-- 気分を入力するためのアラート -->
      <ons-dialog id="feeling_add_dialog">
        <div class="alert">
          <p>映画を観た気分を6文字以内で入力</p>
          <ons-input input-id="feeling_input_name" placeholder="例) ドキドキ、ワクワクなど" modifier="underbar" maxlength="6" float></ons-input>
          <p>
            <ons-button class="brown_bg_color" onclick="movieadd_feeling.hide_input_alert('cancel')">キャンセル</ons-button>
            <ons-button class="brown_bg_color" id="feeling_add_button" onclick="movieadd_feeling.hide_input_alert('add')" disabled>登  　　録</ons-button>
          </p>
        </div>
      </ons-dialog>
    </ons-page>
  </ons-template>
  <!-- ●ここまでmovieadd_feeling.html -->


  <!-- ●ここからmovieadd_dvd.html -->
  <ons-template id="movieadd_dvd.html">
  	<ons-page id="movieadd_dvd" ontouchmove="event.preventDefault()">
  		<!-- ツールバー -->
  		<ons-toolbar>
  			<div class="center brown_color">DVD所持の登録</div>
  		</ons-toolbar>

  		<!-- ラジオボタン -->
  		<ons-list>
  			<ons-list-header>DVDを所持していますか？</ons-list-header>

  			<ons-list-item tappable>
  				<label class="left">
	        	<ons-input name="color" type="radio" input-id="radio_dvd_yes"></ons-input>
	      	</label>
	      	<label for="radio_dvd_yes" class="center">はい</label>
		    </ons-list-item>

		    <ons-list-item tappable>
		    	<label class="left">
	        	<ons-input name="color" type="radio" input-id="radio_dvd_no" checked></ons-input>
	      	</label>
	      	<label for="radio_dvd_no" class="center">いいえ</label>
		    </ons-list-item>
			</ons-list>

			<div class="small_message">初期状態は「いいえ」で登録されます。</div>

			<div class="center_button">
	    	<ons-button class="brown_bg_color" onClick="movieadd_dvd.close_movieadd_dvd()" modifier="large">登録</ons-button>
	  	</div>
		</ons-page>
	</ons-template>
  <!-- ●ここまでmovieadd_dvd.html -->


  <!-- ●ここからsearch.html -->
  <ons-template id="search.html">
	  <ons-page id="search">
      <!--ツールバー-->
      <ons-toolbar>
        <div class="center">検索</div>
      </ons-toolbar>

      <p style="text-align: center; opacity: 0.6; padding-top: 20px;">Search.html</p>
	  </ons-page>
  </ons-template>
  <!-- ●ここまでsearch.html -->


  <!-- ●ここからaction.html -->
  <ons-template id="action.html">
    <ons-page id="action">
      <!--ツールバー-->
      <ons-toolbar>
        <div class="center">アクション</div>
      </ons-toolbar>

      <p style="text-align: center; opacity: 0.6; padding-top: 20px;">Actions.html</p>
    </ons-page>
  </ons-template>
  <!-- ●ここまでaction.html -->
</body>
</html>
